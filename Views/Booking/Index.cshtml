@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/asset/css/booking.css" />
}

@{
    ViewData["Title"] = "Đặt sân";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="banner">
    <div class="breadcrumb">
        <a href="@Url.Action("Index", "Home")">Trang chủ</a>
        <span class="separator">›</span>
        <span class="current">Đặt sân</span>
    </div>
    <div class="banner-content">
        <h1>Chào mừng đến với SportHub</h1>
        <p>Chọn sân yêu thích, đặt cọc hoặc thanh toán full - Nhanh chóng & Tiện lợi!</p>
    </div>
</section>

<div class="main-container">
    <aside class="filter-sidebar fade-in">
        <div class="filter-card">
            <div class="filter-header d-flex justify-content-between align-items-center mb-3">
                <h3 class="filter-title m-0">Bộ Lọc</h3>
                <button class="btn btn-sm btn-outline-secondary btn-reset-filter" title="Làm mới bộ lọc">
                    <i class="fas fa-sync-alt"></i> Làm mới
                </button>
            </div>

            <div class="filter-section">
                <div class="filter-section-title">Loại Sân</div>
                <div class="filter-options">
                    @if (ViewBag.Categories != null)
                    {
                        foreach (var category in ViewBag.Categories)
                        {
                            <label class="filter-option" data-category-id="@category.CategoryId">
                                <input type="checkbox">
                                <div class="filter-checkbox"></div>
                                <span class="filter-label">@category.CategoryName</span>
                            </label>

                            @if (category.CategoryName.Contains("Bóng Đá"))
                            {
                                <div class="sub-filter-options ps-4 mt-2 mb-2">
                                    <label class="filter-option" data-capacity="10">
                                        <input type="checkbox">
                                        <div class="filter-checkbox" style="width:16px;height:16px;"></div>
                                        <span class="filter-label small">Sân 5 người</span>
                                    </label>
                                    <label class="filter-option" data-capacity="14">
                                        <input type="checkbox">
                                        <div class="filter-checkbox" style="width:16px;height:16px;"></div>
                                        <span class="filter-label small">Sân 7 người</span>
                                    </label>
                                </div>
                            }
                        }
                    }
                </div>
            </div>

            <div class="filter-actions mt-3">
                <button type="button" class="filter-submit-btn w-100">Tìm kiếm</button>
            </div>
        </div>
    </aside>

    <section class="fields-section fade-in stagger-1">
        <div class="fields-header">
            <div class="fields-count">Đang tải...</div>
        </div>
        <div class="fields-grid"></div>
    </section>
</div>

<div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title fw-bold">Đặt sân: <span id="modalPitchName" class="text-success"></span></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="modalPitchId">
                <div class="mb-4">
                    <label class="form-label fw-bold">Chọn ngày đá:</label>
                    <input type="date" class="form-control form-control-lg" id="modalBookingDate">
                </div>
                <div class="mb-2">
                    <label class="form-label fw-bold">Các khung giờ trống:</label>
                    <div id="modalSlotsGrid" class="slots-grid-modal">
                        <div class="text-center text-muted py-3">Vui lòng chọn ngày để xem lịch...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="/asset/js/booking.js"></script>
}