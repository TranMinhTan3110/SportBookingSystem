<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - SportHub</title>
   
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- CSS Files -->

    <link rel="stylesheet" href="~/css/site.css" />

    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <!-- Dropdown Overlay -->
    <div class="dropdown-overlay" id="dropdownOverlay"></div>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="bi bi-list"></i>
            </button>

            <!-- Logo -->
            <a href="@Url.Action("Index", "Home")" class="logo">
                <img src="~/asset/img/logo.png" alt="SportHub Logo" class="logo-icon" />
                <span>TQTSport</span>
            </a>

            <!-- Desktop Navigation Menu -->
            <nav class="nav-menu">
                <a href="@Url.Action("Index", "Home")"
                   class="nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" ? "active" : "")">
                    <i class="bi bi-house-door-fill"></i> Trang chủ
                </a>
                <a href="@Url.Action("Index", "Fields")"
                   class="nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Fields" ? "active" : "")">
                    <i class="bi bi-calendar-event-fill"></i> Đặt sân
                </a>

                <!-- Dịch Vụ Dropdown -->
                <div class="dropdown" id="servicesDropdown">
                    <button type="button" class="dropdown-toggle @(ViewContext.RouteData.Values["controller"]?.ToString() == "FoodDrinks" || ViewContext.RouteData.Values["controller"]?.ToString() == "Products" ? "active" : "")" >
                        <i class="bi bi-grid-fill"></i> Dịch vụ
                        <span class="dropdown-arrow">▼</span>
                    </button>
                    <div class="dropdown-menu">
                        <a href="@Url.Action("Index", "FoodDrinks")" class="dropdown-item">
                            <span class="dropdown-item-icon"><i class="bi bi-cup-hot-fill"></i></span>
                            <span>Đồ Ăn & Thức Uống</span>
                        </a>
                        <a href="@Url.Action("Index", "Supplies")" class="dropdown-item">
                            <span class="dropdown-item-icon"><i class="bi bi-bag-fill"></i></span>
                            <span>Đồ Dùng Thể Thao</span>
                        </a>
                    </div>
                </div>

                <a href="@Url.Action("Index", "History")"
                   class="nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "History" ? "active" : "")">
                    <i class="bi bi-clock-history"></i> Lịch sử
                </a>
            </nav>

            <!-- Header Actions -->
            <div class="header-actions">
                <!-- Wallet Balance -->
                <div class="wallet-balance" onclick="window.location.href='@Url.Action("Index", "Wallet")'">
                    <i class="bi bi-wallet-fill"></i> <span>@(ViewBag.WalletBalance ?? "2,450,000₫")</span>
                </div>

                <!-- User Avatar Dropdown -->
                <div class="user-dropdown" id="userDropdown">
                    <div class="user-avatar">
                        @(ViewBag.UserInitials ?? "NV")
                    </div>
                    <div class="user-dropdown-menu">
                        <!-- User Info -->
                        <div class="user-dropdown-header">
                            <div class="user-dropdown-name">@(ViewBag.UserName ?? "Nguyễn Văn A")</div>
                            <div class="user-dropdown-email">@(ViewBag.UserEmail ?? "user@sporthub.vn")</div>
                        </div>
                        <!-- Menu Items -->
                        <a href="@Url.Action("Index", "Profile")" class="user-dropdown-item">
                            <span class="dropdown-item-icon"><i class="bi bi-person-circle"></i></span>
                            <span>Thông tin cá nhân</span>
                        </a>
                        <a href="@Url.Action("Transactions", "History")" class="user-dropdown-item">
                            <span class="dropdown-item-icon"><i class="bi bi-clock-history"></i></span>
                            <span>Lịch sử giao dịch</span>
                        </a>
                        <a href="@Url.Action("Index", "Settings")" class="user-dropdown-item">
                            <span class="dropdown-item-icon"><i class="bi bi-gear-fill"></i></span>
                            <span>Cài đặt</span>
                        </a>
                        <a href="@Url.Action("Logout", "Account")" class="user-dropdown-item danger">
                            <span class="dropdown-item-icon"><i class="bi bi-box-arrow-right"></i></span>
                            <span>Đăng xuất</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobileNav">
        <!-- Mobile Nav Header -->
        <div class="mobile-nav-header">
            <div class="logo">
                <div class="logo-icon" style="width: 36px; height: 36px; font-size: 18px;"><i class="bi bi-trophy-fill"></i></div>
                <span style="font-size: 18px;">SportHub</span>
            </div>
            <button class="mobile-nav-close" id="mobileNavClose">✕</button>
        </div>

        <!-- Mobile Nav Links -->
        <div class="mobile-nav-links">
            <!-- Main Menu -->
            <div class="mobile-nav-section">
                <div class="mobile-nav-section-title">Menu Chính</div>
                <a href="@Url.Action("Index", "Home")" class="mobile-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" ? "active" : "")">
                    <span><i class="bi bi-house-door-fill"></i></span>
                    <span>Trang chủ</span>
                </a>
                <a href="@Url.Action("Index", "Fields")" class="mobile-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Fields" ? "active" : "")">
                    <span><i class="bi bi-calendar-event-fill"></i></span>
                    <span>Đặt sân</span>
                </a>
                <a href="@Url.Action("Index", "History")" class="mobile-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "History" ? "active" : "")">
                    <span><i class="bi bi-clock-history"></i></span>
                    <span>Lịch sử</span>
                </a>
            </div>

            <div class="mobile-nav-divider"></div>

            <!-- Services -->
            <div class="mobile-nav-section">
                <div class="mobile-nav-section-title">Dịch Vụ</div>
                <a href="@Url.Action("Index", "FoodDrinks")" class="mobile-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "FoodDrinks" ? "active" : "")">
                    <span><i class="bi bi-cup-hot-fill"></i></span>
                    <span>Đồ ăn & thức uống</span>
                </a>
                <a href="@Url.Action("Index", "Products")" class="mobile-nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Products" ? "active" : "")">
                    <span><i class="bi bi-bag-fill"></i></span>
                    <span>Đồ dùng thể thao</span>
                </a>
            </div>

            <div class="mobile-nav-divider"></div>

            <!-- Wallet -->
            <div class="mobile-nav-section">
                <div class="mobile-nav-section-title">Tài Khoản</div>
                <a href="@Url.Action("Index", "Wallet")" class="mobile-nav-link">
                    <span><i class="bi bi-wallet-fill"></i></span>
                    <span>Ví điện tử</span>
                </a>
                <a href="@Url.Action("Profile", "Account")" class="mobile-nav-link">
                    <span><i class="bi bi-person-circle"></i></span>
                    <span>Thông tin cá nhân</span>
                </a>
                <a href="@Url.Action("Transactions", "History")" class="mobile-nav-link">
                    <span><i class="bi bi-clock-history"></i></span>
                    <span>Lịch sử giao dịch</span>
                </a>
                <a href="@Url.Action("Index", "Settings")" class="mobile-nav-link">
                    <span><i class="bi bi-gear-fill"></i></span>
                    <span>Cài đặt</span>
                </a>
            </div>

            <div class="mobile-nav-divider"></div>

            <!-- Logout -->
            <a href="@Url.Action("Logout", "Account")" class="mobile-nav-link" style="color: var(--danger);">
                <span><i class="bi bi-box-arrow-right"></i></span>
                <span>Đăng xuất</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        @RenderBody()
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <!-- Brand Column -->
            <div class="footer-brand">
                <div class="footer-logo">
                    <div class="logo-icon" style="width: 40px; height: 40px; font-size: 20px;"><img src="~/asset/images/logo.png" alt="Logo" style="width: 100%; height: 100%; object-fit: contain;" /></div>
                    <span>TQTSport</span>
                </div>
                <p class="footer-desc">
                    Nền tảng đặt sân thể thao trực tuyến hàng đầu Việt Nam.
                    Đặt sân dễ dàng, thanh toán nhanh chóng, trải nghiệm tuyệt vời.
                </p>
            </div>

            <!-- Products Column -->
            <div class="footer-column">
                <h4>Sản phẩm</h4>
                <div class="footer-links">
                    <a href="@Url.Action("Index", "Fields")" class="footer-link">Đặt sân bóng</a>
                    <a href="@Url.Action("Index", "Wallet")" class="footer-link">Ví điện tử</a>
                    <a href="@Url.Action("Index", "FoodDrinks")" class="footer-link">Đồ ăn & thức uống</a>
                    <a href="@Url.Action("Index", "Products")" class="footer-link">Đồ dùng thể thao</a>
                </div>
            </div>

            <!-- Support Column -->
            <div class="footer-column">
                <h4>Hỗ trợ</h4>
                <div class="footer-links">
                    <a href="@Url.Action("Help", "Support")" class="footer-link">Trung tâm trợ giúp</a>
                    <a href="@Url.Action("Contact", "Support")" class="footer-link">Liên hệ</a>
                    <a href="@Url.Action("Terms", "Legal")" class="footer-link">Điều khoản</a>
                    <a href="@Url.Action("Privacy", "Legal")" class="footer-link">Chính sách</a>
                </div>
            </div>

            <!-- Social Column -->
            <div class="footer-column">
                <h4>Kết nối</h4>
                <div class="footer-links">
                    <a href="#" class="footer-link" target="_blank">Facebook</a>
                    <a href="#" class="footer-link" target="_blank">Instagram</a>
                    <a href="#" class="footer-link" target="_blank">Twitter</a>
                    <a href="#" class="footer-link" target="_blank">YouTube</a>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
            © @DateTime.Now.Year SportHub. All rights reserved. Made for football lovers.
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="~/js/site.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>

